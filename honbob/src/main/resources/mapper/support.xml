<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- Mybatis 사용 -->
<mapper namespace="Support">

	<select id="getSupports" parameterType="int" resultType="vo.support.SupportVO">
		select *
		from support
		where user_userNo = #{id}
		ORDER BY id DESC LIMIT 8;
	</select>

	<select id="getSupport" parameterType="int" resultType="vo.support.SupportVO">
		select * from support where id = #{id};
	</select>

	<delete id="deleteSupport" parameterType="int">
		DELETE FROM `honmuk`.`support` WHERE (`id` = #{id});
	</delete>

	<update id="updateSupport" parameterType="vo.support.SupportEditRequest">
		UPDATE `honmuk`.`support`
		SET `subject` = #{subject}, `content` = #{content}
		WHERE (`id` = #{id});
	</update>

	<insert id="insertSupport" parameterType="vo.support.SupportVO">
		INSERT INTO `honmuk`.`support`
			(`id`, `subject`, `content`, `registdate`, `lock`, `sendemail`, `user_userNo`)
		VALUES (NULL, #{subject}, #{content}, #{registdate}, #{lock}, #{sendemail}, #{user_userId});
	</insert>
</mapper>
